<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>
        // 创建型设计模式
        // 目的:指导我们解决创建对象的方面的需求和问题
        // 用处:当我们在设计功能的类怎么设计，怎么创建对象的时候用上


        // 工厂模式的定义
        // 目的:让我们不用关心对象的创建，更简单的获取到想要的对象
        // 应用场景:我们需要创建大量的对象，尤其当可能是各种对象的时候
        // 构建一个工厂方法，通过调用这个工厂方法，来创建类，而不用我们具体去创建某个类。其实也是一个依赖于抽象不依赖于具体的体现


        function factory(type) {
            return new factory[type]()
        }
        factory.basketball = function () { }
        factory.tennis = function () { }
        factory('basketball')

        // 创建不同的弹窗
        // 假设我们在项目中,需要各种各样的弹窗,比如警告型的,成功型的，提示型的
        function popFactor(type, word) { }
        popFactor.warnPop = function () { }
        popFactor.warnPop.prototype.warnPopaction = function () { }
        popFactor.successPop = function () { }
        popFactor.successPop.prototype.successPopaction = function () { }
        popFactor('warnPop', 'waring')

        // 简单工程模式
        //User类
        class User {
            //构造器
            constructor(opt) {
                this.name = opt.name;
                this.viewPage = opt.viewPage;
            }

            //静态方法
            static getInstance(role) {
                switch (role) {
                    case 'superAdmin':
                        return new User({ name: '超级管理员', viewPage: ['首页', '通讯录', '发现页', '应用数据', '权限管理'] });
                        break;
                    case 'admin':
                        return new User({ name: '管理员', viewPage: ['首页', '通讯录', '发现页', '应用数据'] });
                        break;
                    case 'user':
                        return new User({ name: '普通用户', viewPage: ['首页', '通讯录', '发现页'] });
                        break;
                    default:
                        throw new Error('参数错误, 可选参数:superAdmin、admin、user')
                }
            }
        }

        //调用
        let superAdmin = User.getInstance('superAdmin');
        let admin = User.getInstance('admin');
        let normalUser = User.getInstance('user');
        console.log(superAdmin, admin, normalUser);

    </script>

</body>

</html>