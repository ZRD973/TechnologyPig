# 软件开发的最后一公里-自动部署指南



自动部署是为了打破用户、交付团队及运维团队之间的壁垒，让原本令人紧张、疲惫的软件发布过程变得轻松，让原本枯燥易错的部署操作变成只需轻点鼠标即可完成。

因为我们需要频繁的部署软件，怎么样可以降低风险，克服工作的乏味，并增强信心，就需要做到持续集成和自动部署。

持续集成的作用，是为了将代码拉取后进行整体的编译和测试，用于确定项目整体可以集成在一起，但仅仅做到持续集成是不够的，还需要做到持续交付，因为软件不部署则毫无价值可言。



目前的手工部署流程（举例promanage的项目）：



![img](https://cdn.nlark.com/yuque/0/2021/jpeg/2377543/1614759188401-8c45c724-b40f-4009-bd20-c56de75d01b3.jpeg)

相当简单对吧，但里面的坑很多：放置自己页面时，发现自己的页面依赖的页面没有上线，然后去上线依赖的页面，又发现依赖页面的sql没放，测试后又发现依赖页面的相应数据库没有更新字段或表等一连串的问题。如果要回退回上一个版本是同时，要回退的不只是自己的页面，可能也需要回退依赖的页面，回退数据库（回退需要回退多少也是一个问题）等等...

你可能会说：“我很细心，我不会犯这种错误”，很好，那以后发布的工作就交给你了。



调整后的部署流程（举例promanage项目）

![img](https://cdn.nlark.com/yuque/0/2021/jpeg/2377543/1614759188039-73c9a9cb-a1ff-4952-b50f-5ca08cf8ab48.jpeg)

所有的手工步骤全部交由自动集成部署服务器来做，手工需要做的事情，全部由代码来自动实现，做到无需登录服务器，减少发布步骤出错而导致的问题，降低部署的教育成本和风险。同时自动部署脚本公开可配置化，方便以后改进。



自动集成部署服务器 http://172.16.0.105:9090